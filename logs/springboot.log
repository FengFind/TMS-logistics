2017-09-05 09:00:24.463  INFO 13820 --- [restartedMain] com.yydscm.LogisticsTmsApplication       : Starting LogisticsTmsApplication on DESKTOP-LDP6EUN with PID 13820 (C:\Others\project\logistics\logistics-tms\target\classes started by hecha in C:\Others\project\logistics)
2017-09-05 09:00:24.464  INFO 13820 --- [restartedMain] com.yydscm.LogisticsTmsApplication       : The following profiles are active: dev
2017-09-05 09:00:24.513  INFO 13820 --- [restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6a36d819: startup date [Tue Sep 05 09:00:24 CST 2017]; root of context hierarchy
2017-09-05 09:00:25.504  INFO 13820 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-09-05 09:00:26.389  INFO 13820 --- [restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2017-09-05 09:00:26.431  INFO 13820 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-09-05 09:00:26.436  INFO 13820 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2017-09-05 09:00:26.557  INFO 13820 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-09-05 09:00:26.561  INFO 13820 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2052 ms
2017-09-05 09:00:26.714  INFO 13820 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-09-05 09:00:26.714  INFO 13820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-09-05 09:00:26.714  INFO 13820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2017-09-05 09:00:26.725  INFO 13820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2017-09-05 09:00:26.725  INFO 13820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2017-09-05 09:00:26.725  INFO 13820 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2017-09-05 09:00:27.626  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6a36d819: startup date [Tue Sep 05 09:00:24 CST 2017]; root of context hierarchy
2017-09-05 09:00:27.673  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alias/addOrUpdateAlias],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.alias.AliasController.addOrUpdateAlias(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.673  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alias/deleteAlias],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.alias.AliasController.deleteAlias(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.673  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alias/selectAliasList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.alias.AliasController.selectDeclaractionList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.673  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/arrival/updateBillingForArrival]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.arrival.ArrivalController.updateBillingOFInvoiceStatus(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.693  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/arrival/selectArrivalList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.arrival.ArrivalController.selectArrivalList(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/selectBilling],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.selectBilling(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchRemarks],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.Billing.BillingController.searchRemarks(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/InsuredRate/{logistics_uuid}],methods=[GET]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.InsuredRate(java.lang.Long)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/saveBilling],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.saveBilling(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/SaveInsuredRate],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.Billing.BillingController.SaveInsuredRate(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchName],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.searchName(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchTerminalStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.searchTerminalStation(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/selectBillingByUuid],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.selectBillingByUuid(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.695  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchDestination],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.searchDestination(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.707  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectSuperCost],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectSuperCost(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.707  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/exportBillExcel],methods=[GET]}" onto public void com.yydscm.Controller.Billing.BillManagerController.exportBillExcel(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletResponse,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.711  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectCost],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectCost(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.712  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectBillList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectBillList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.712  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/billCancel],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.billCancel(java.lang.Long)
2017-09-05 09:00:27.712  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectCostForDay],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectCostForDay(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.712  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectBillSuperList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectBillSuperList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.712  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectInitialStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectInitialStation(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.713  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectTerminalStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectTerminalStation(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.713  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectAllTerminalStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectAllTerminalStation(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.713  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/exportSuperBillExcel],methods=[GET]}" onto public void com.yydscm.Controller.Billing.BillManagerController.exportSuperBillExcel(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletResponse,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.713  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/common/getEnum],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.CommonController.getEnum(java.lang.String)
2017-09-05 09:00:27.717  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/declaraction/addDeclaraction],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.declaraction.DeclaractionController.addDeclaraction(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.717  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/declaraction/selectDeclaractionList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.declaraction.DeclaractionController.selectDeclaractionList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.717  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/declaraction/deleteDeclaraction],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.declaraction.DeclaractionController.deleteDeclaraction(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.718  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/driverManager/selectDriverList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.driverManager.DriverManagerController.selectDriverList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.718  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/driverManager/deleteDriver],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.driverManager.DriverManagerController.deleteDriver(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.718  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/driverManager/addOrUpdateDriver],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.driverManager.DriverManagerController.addDriver(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.719  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goodsManager/selectGoodsList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.goodsManager.GoodsManagerController.selectGoodsList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.720  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goodsManager/deleteGoods],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.goodsManager.GoodsManagerController.deleteGoods(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.720  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goodsManager/addGoods],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.goodsManager.GoodsManagerController.addGoods(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.720  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/GoodsReceipt],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.IndexController.GoodsReceipt(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.721  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/saveLoadingBatch],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.saveLoadingBatch(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.721  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/selectBillingForLoadingByAll],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.selectBillingForLoadingByAll(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.721  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/selectBillingForLoading],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.selectBillingForLoading(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.722  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/removeLoadingBatch],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.removeLoadingBatch(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.723  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/Applogin],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.AppLogin(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.724  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/randCode],methods=[GET]}" onto public void com.yydscm.Controller.LoginController.vailcode(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2017-09-05 09:00:27.724  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testuser],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.TestUser(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.724  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/setSession],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.SetSession(javax.servlet.http.HttpSession)
2017-09-05 09:00:27.724  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.Logout(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.724  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.Login(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.725  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/menu],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.Menu(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.725  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/getSession],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.GetSession(javax.servlet.http.HttpSession)
2017-09-05 09:00:27.729  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pack/selectPackAll],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.packing.PackController.selectPackAll()
2017-09-05 09:00:27.730  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/addPartners],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.addPartners(java.lang.String,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.730  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/selectPointList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.selectPointList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.731  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/updatePartnersStatus],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.updatePartnersStatus(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.731  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/selectCompanyList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.selectCompanyList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/selectPartnersList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.selectPartnersList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/addOrUpdatePoint],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.addOrUpdatePoint(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/selectPoint],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.selectPoint(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/deletePointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.deletePointUser(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/selectPointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.selectPointUser(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/addOrUpdatePointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.addOrUpdatePointUser(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/selectPointAndPointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.selectPointAndPointUser(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/printer/selectPrinter],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.printer.PrinterController.selectPrinter(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/printer/savePrinter],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.printer.PrinterController.savePrinter(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/report/selectReportList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.report.ReportController.selectReportList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.732  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/report/selectReportListByDay],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.report.ReportController.selectReportListByDay(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/sign/selectSignList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.sign.SignController.selectSignList(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/sign/updateBillingForSign]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.sign.SignController.updateBillingOFInvoiceStatus(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/sign/billingsSumByUuid],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.sign.SignController.billingsSumByUuid(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/transfer/selectTransfer],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.transfer.TransferController.selectTransfer(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/transfer/saveTransfer],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.transfer.TransferController.saveTransfer(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/transfer/getPointForNotOwn],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.transfer.TransferController.getPointForNotOwn(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/unusual/saveUnusual],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.unusual.UnusualController.saveUnusual(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/unusual/selectUnusual],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.unusual.UnusualController.selectUnusual(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/member/selectMemberList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.User.MemberController.selectMemberList(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.748  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/User/UpdateUser],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.User.UserController.UpdateUser(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.Object>)
2017-09-05 09:00:27.764  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/credit/reviewInfo],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.WxInterface.WxController.reviewInfo(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.764  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/credit/selectCreditUserList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.WxInterface.WxController.selectCreditUserList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-05 09:00:27.764  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-09-05 09:00:27.764  INFO 13820 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-09-05 09:00:27.795  INFO 13820 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-09-05 09:00:27.795  INFO 13820 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-09-05 09:00:27.827  INFO 13820 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-09-05 09:00:28.193  INFO 13820 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2017-09-05 09:00:28.295  INFO 13820 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-09-05 09:00:28.431  INFO 13820 --- [restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2017-09-05 09:00:28.431  INFO 13820 --- [restartedMain] com.yydscm.LogisticsTmsApplication       : Started LogisticsTmsApplication in 4.462 seconds (JVM running for 6.382)
2017-09-05 09:01:26.786  INFO 13820 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2017-09-05 09:01:26.786  INFO 13820 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2017-09-05 09:01:26.820  INFO 13820 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 34 ms
2017-09-05 09:01:44.463 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:01:44.476 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT u.*,l.logistics_uuid,l.point_name,lo.company_name FROM t_user u LEFT JOIN t_logistics_point l on u.company_uuid=l.uuid LEFT JOIN t_logistics lo ON lo.uuid=l.logistics_uuid WHERE phone_one=?]
2017-09-05 09:01:47.346 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:01:47.356 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 09:01:47.364 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:01:47.364 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 09:01:47.413 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:01:47.413 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 09:02:33.431 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:33.432 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 09:02:33.453 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:33.453 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select DISTINCT transit_destination value from t_billing where initial_station_id = ? and transit_destination is not null]
2017-09-05 09:02:33.471 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:33.461 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:33.473 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 09:02:33.473 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-05 09:02:35.341 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:35.345 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:35.346 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 09:02:35.346 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 09:02:35.357 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:35.357 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 09:02:35.573 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:35.573 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 09:02:38.783 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:38.789 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9  order by b.invoice_date desc]
2017-09-05 09:02:39.205 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:02:39.205 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 ) n ]
2017-09-05 09:30:02.609 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:02.609 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:02.610 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 09:30:02.613 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 09:30:21.561  INFO 13820 --- [http-nio-8081-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2017-09-05 09:30:21.629  INFO 13820 --- [http-nio-8081-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2017-09-05 09:30:21.653 ERROR 13820 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]; Communications link failure

The last packet successfully received from the server was 1,666,172 milliseconds ago.  The last packet sent successfully to the server was 18,926 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,666,172 milliseconds ago.  The last packet sent successfully to the server was 18,926 milliseconds ago.] with root cause

java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_144]
	at com.mysql.jdbc.util.ReadAheadInputStream.fill(ReadAheadInputStream.java:101) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:144) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:174) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3008) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3469) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3459) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3900) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:211) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:219) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForMap(NamedParameterJdbcTemplate.java:243) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllCost(BillManagerDao.java:262) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllCost(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectCost(BillManagerService.java:159) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectCost(BillManagerController.java:144) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 09:30:21.757 ERROR 13820 --- [http-nio-8081-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]; Communications link failure

The last packet successfully received from the server was 1,662,513 milliseconds ago.  The last packet sent successfully to the server was 19,139 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,662,513 milliseconds ago.  The last packet sent successfully to the server was 19,139 milliseconds ago.] with root cause

java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_144]
	at com.mysql.jdbc.util.ReadAheadInputStream.fill(ReadAheadInputStream.java:101) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:144) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:174) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3008) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3469) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3459) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3900) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.IndexDao.getChild(IndexDao.java:33) ~[classes/:na]
	at com.yydscm.Dao.IndexDao$$FastClassBySpringCGLIB$$ce1b3404.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.IndexDao$$EnhancerBySpringCGLIB$$83a47e1f.getChild(<generated>) ~[classes/:na]
	at com.yydscm.Service.IndexService.getGoodsReceipt(IndexService.java:40) ~[classes/:na]
	at com.yydscm.Controller.IndexController.GoodsReceipt(IndexController.java:22) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 09:30:26.878 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:26.882 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 09:30:26.883 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:26.887 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 09:30:26.919 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:26.920 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 09:30:27.241 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:27.241 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 09:30:38.170 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:38.176 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 09:30:38.273 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:38.273 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.terminal_station_id = ? ) n ]
2017-09-05 09:30:39.693 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:39.697 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 09:30:39.791 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:39.791 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.terminal_station_id = ? ) n ]
2017-09-05 09:30:46.065 ERROR 13820 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]; Communications link failure

The last packet successfully received from the server was 1,690,691 milliseconds ago.  The last packet sent successfully to the server was 19,142 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,690,691 milliseconds ago.  The last packet sent successfully to the server was 19,142 milliseconds ago.] with root cause

java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_144]
	at com.mysql.jdbc.util.ReadAheadInputStream.fill(ReadAheadInputStream.java:101) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:144) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:174) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3008) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3469) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3459) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3900) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllInitialStation(BillManagerDao.java:237) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllInitialStation(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectInitialStation(BillManagerService.java:128) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectInitialStation(BillManagerController.java:116) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 09:30:46.752 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:46.760 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 09:30:47.110 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 09:30:47.114 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and b.terminal_station_id = ? ) n ]
2017-09-05 11:52:32.918 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:32.918 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:32.920 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 11:52:32.920 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 11:52:32.920 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:32.921 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 11:52:32.937 ERROR 13820 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]; Communications link failure

The last packet successfully received from the server was 8,513,101 milliseconds ago.  The last packet sent successfully to the server was 8,513,113 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 8,513,101 milliseconds ago.  The last packet sent successfully to the server was 8,513,113 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllTerminalStation(BillManagerDao.java:312) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllTerminalStation(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectTerminalStation(BillManagerService.java:248) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectTerminalStation(BillManagerController.java:271) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 11:52:32.937 ERROR 13820 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]; Communications link failure

The last packet successfully received from the server was 8,505,781 milliseconds ago.  The last packet sent successfully to the server was 8,505,792 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 8,505,781 milliseconds ago.  The last packet sent successfully to the server was 8,505,792 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllInitialStation(BillManagerDao.java:237) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllInitialStation(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectInitialStation(BillManagerService.java:128) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectInitialStation(BillManagerController.java:116) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 11:52:32.938 ERROR 13820 --- [http-nio-8081-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]; Communications link failure

The last packet successfully received from the server was 8,525,846 milliseconds ago.  The last packet sent successfully to the server was 8,525,857 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 8,525,846 milliseconds ago.  The last packet sent successfully to the server was 8,525,857 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllPointBillList(BillManagerDao.java:143) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllPointBillList(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectBillList(BillManagerService.java:59) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectBillList(BillManagerController.java:55) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 11:52:42.661 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:42.662 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select TP,stylus,A4 from t_user where uuid = ?]
2017-09-05 11:52:51.143 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:51.143 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 11:52:51.148 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:51.148 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 11:52:51.398 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:51.398 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 11:52:53.270 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:53.270 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select t.to_point_uuid,if(t.to_company_name is null,if(l.company_name is null,l.point_name,concat(l.company_name,'(',p.point_name,')')),t.to_company_name) point_name,date_format(t.transfer_date,'%Y-%m-%d %H:%i') transfer_date,t.transfer_fee,t.point_uuid,p.point_name operation_point_name,t.operator_id,u.user_name,t.transfer_type,t.transit_destination,t.billing_uuid,t.remark  from t_transfer t  left join (select ll.uuid,ll.point_name,lo.company_name from t_logistics_point ll  left join t_logistics lo on lo.uuid = ll.logistics_uuid) l on l.uuid = t.to_point_uuid  left join t_logistics_point p on p.uuid = t.point_uuid  left join t_user u on u.uuid = t.operator_id  where 1=1 and (t.to_point_uuid = ? or t.point_uuid = ?) ]
2017-09-05 11:52:59.074 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:59.074 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 11:52:59.079 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:52:59.079 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select u.uuid,u.billing_uuid,DATE_FORMAT(u.record_date,'%Y-%m-%d') record_date,u.record_point_uuid,u.recorder_uuid,p.point_name,t.user_name recorder_name,u.unusual_type,u.unusual_des,u.processor,t1.user_name processor_name,DATE_FORMAT(u.processed_date,'%Y-%m-%d') processed_date,u.processed_results,u.status,if(u.status = 0,'未处理','已处理') statusStr,b.waybill_number,b.consigner,b.consigner_phone,b.consignee,b.consignee_phone,b.goods_name,b.quantity from t_unusual_log u left join t_user t on t.uuid = u.recorder_uuid left join t_user t1 on t1.uuid = u.processor left join t_billing b on b.uuid = u.billing_uuid left join t_logistics_point p on p.uuid=u.record_point_uuid where 1=1  and u.record_point_uuid = ?]
2017-09-05 11:53:09.770 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:09.770 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 11:53:09.773 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:09.773 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (4,5) and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 11:53:14.492 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:14.492 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 11:53:14.536 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:14.537 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (3) and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 11:53:20.035 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:20.036 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (2) and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 11:53:20.046 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:20.046 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 11:53:20.049 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:20.049 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (1) and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 11:53:20.051 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:20.062 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select company_name,plate_number,driver_name,driver_phone from t_driver where company_uuid = ? order by create_time desc]
2017-09-05 11:53:24.036 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:24.036 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (2,3,4,5) and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 11:53:24.059 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:24.059 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 11:53:24.063 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:24.063 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 11:53:26.644 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:26.644 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 11:53:26.646 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:26.646 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 11:53:26.652 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:26.652 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 11:53:26.878 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:26.878 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 11:53:32.247 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:32.248 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 11:53:32.249 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:32.250 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 11:53:32.275 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 11:53:32.276 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 15:47:55.279 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:47:55.279 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:47:55.280 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 15:47:55.284 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:47:55.300 ERROR 13820 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]; Communications link failure

The last packet successfully received from the server was 14,062,982 milliseconds ago.  The last packet sent successfully to the server was 14,062,991 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 14,062,982 milliseconds ago.  The last packet sent successfully to the server was 14,062,991 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.IndexDao.getChild(IndexDao.java:33) ~[classes/:na]
	at com.yydscm.Dao.IndexDao$$FastClassBySpringCGLIB$$ce1b3404.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.IndexDao$$EnhancerBySpringCGLIB$$83a47e1f.getChild(<generated>) ~[classes/:na]
	at com.yydscm.Service.IndexService.getGoodsReceipt(IndexService.java:40) ~[classes/:na]
	at com.yydscm.Controller.IndexController.GoodsReceipt(IndexController.java:22) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 15:48:03.013 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:03.021 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:48:03.450 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:03.458 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 15:48:03.489 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:03.498 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 15:48:05.856 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:05.857 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:05.863 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 15:48:05.863 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:48:05.867 ERROR 13820 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]; Communications link failure

The last packet successfully received from the server was 14,073,588 milliseconds ago.  The last packet sent successfully to the server was 14,073,601 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 14,073,588 milliseconds ago.  The last packet sent successfully to the server was 14,073,601 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:211) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(NamedParameterJdbcTemplate.java:219) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForMap(NamedParameterJdbcTemplate.java:243) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllCost(BillManagerDao.java:262) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllCost(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectCost(BillManagerService.java:159) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectCost(BillManagerController.java:144) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 15:48:05.901 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:05.901 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 15:48:08.712 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:08.716 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:08.718 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:48:08.724 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 15:48:08.948 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:08.948 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 15:48:21.726 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:21.728 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:21.732 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:48:21.739 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 15:48:21.782 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:48:21.783 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 15:49:11.146 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:49:11.146 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select TP,stylus,A4 from t_user where uuid = ?]
2017-09-05 15:49:40.226 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:49:40.230 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 15:49:40.252 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:49:40.253 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:49:40.459 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:49:40.459 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:49:48.365 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:49:48.368 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9  order by b.invoice_date desc]
2017-09-05 15:49:48.727 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:49:48.727 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 ) n ]
2017-09-05 15:51:04.403 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:04.415 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:51:04.663 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:04.664 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and b.terminal_station_id = ? ) n ]
2017-09-05 15:51:12.010 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:12.015 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and b.initial_station_id = ? and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:51:12.148 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:12.148 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and b.initial_station_id = ? and b.terminal_station_id = ? ) n ]
2017-09-05 15:51:28.367 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:28.372 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and b.initial_station_id = ? and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:51:56.126 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:56.130 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 15:51:56.161 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:56.161 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 15:51:56.161 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:56.166 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:51:56.171 ERROR 13820 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]; Communications link failure

The last packet successfully received from the server was 14,309,499 milliseconds ago.  The last packet sent successfully to the server was 14,309,510 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 14,309,499 milliseconds ago.  The last packet sent successfully to the server was 14,309,510 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllTerminalStation(BillManagerDao.java:312) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllTerminalStation(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectTerminalStation(BillManagerService.java:248) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectTerminalStation(BillManagerController.java:271) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 15:51:56.330 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:56.336 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:51:57.213 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:57.214 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:57.217 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 15:51:57.222 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-05 15:51:57.227 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:57.227 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:57.227 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select DISTINCT transit_destination value from t_billing where initial_station_id = ? and transit_destination is not null]
2017-09-05 15:51:57.227 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:51:57.256 ERROR 13820 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]; Communications link failure

The last packet successfully received from the server was 24,611,755 milliseconds ago.  The last packet sent successfully to the server was 24,611,765 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 24,611,755 milliseconds ago.  The last packet sent successfully to the server was 24,611,765 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillingDao.searchTerminalStation(BillingDao.java:285) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillingDao$$FastClassBySpringCGLIB$$6ca17e2e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillingDao$$EnhancerBySpringCGLIB$$cffa06dd.searchTerminalStation(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillingService.searchTerminalStation(BillingService.java:241) ~[classes/:na]
	at com.yydscm.Service.Billing.BillingService$$FastClassBySpringCGLIB$$80aee4ce.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Service.Billing.BillingService$$EnhancerBySpringCGLIB$$cc38a7a6.searchTerminalStation(<generated>) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillingController.searchTerminalStation(BillingController.java:81) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 15:51:58.276 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:58.281 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:51:58.291 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:58.292 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 15:51:58.323 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:51:58.324 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 15:52:04.758 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:04.759 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:04.759 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:04.766 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 15:52:04.777 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:52:04.777 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (2,3,4,5) and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:52:06.061 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:06.063 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:06.074 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:06.069 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 15:52:06.080 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-05 15:52:06.080 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:52:14.041 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:14.046 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:14.053 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:14.050 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 15:52:14.059 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:52:14.059 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-05 15:52:18.212 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:18.213 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:18.217 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:52:18.223 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT uuid FROM t_logistics_point WHERE logistics_uuid=(SELECT logistics_uuid FROM t_logistics_point WHERE uuid=?)]
2017-09-05 15:52:18.273 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:18.274 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT f.freight,f.collection_fee,DATE_FORMAT(b.invoice_date,'%Y-%m-%d') as invoice_date FROM t_billing b LEFT JOIN t_billing_fee f ON b.uuid=f.billing_uuid WHERE b.initial_station_id IN (?, ?, ?, ?, ?, ?) AND b.invoice_date BETWEEN ? AND ? AND b.invoice_status<>9 ORDER BY b.invoice_date ASC ]
2017-09-05 15:52:21.428 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:21.432 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 15:52:21.441 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:21.441 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select DISTINCT transit_destination value from t_billing where initial_station_id = ? and transit_destination is not null]
2017-09-05 15:52:21.442 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:21.445 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:52:27.491 ERROR 13820 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: java.net.SocketTimeoutException: Read timed out; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out] with root cause

java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_144]
	at java.net.SocketInputStream.read(SocketInputStream.java:127) ~[na:1.8.0_144]
	at redis.clients.util.RedisInputStream.ensureFill(RedisInputStream.java:196) ~[jedis-2.9.0.jar:na]
	at redis.clients.util.RedisInputStream.readByte(RedisInputStream.java:40) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.process(Protocol.java:151) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Protocol.read(Protocol.java:215) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:340) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.Connection.getIntegerReply(Connection.java:265) ~[jedis-2.9.0.jar:na]
	at redis.clients.jedis.BinaryJedis.exists(BinaryJedis.java:279) ~[jedis-2.9.0.jar:na]
	at org.springframework.data.redis.connection.jedis.JedisConnection.exists(JedisConnection.java:813) ~[spring-data-redis-1.8.4.RELEASE.jar:na]
	at org.springframework.data.redis.core.RedisTemplate$6.doInRedis(RedisTemplate.java:661) ~[spring-data-redis-1.8.4.RELEASE.jar:na]
	at org.springframework.data.redis.core.RedisTemplate$6.doInRedis(RedisTemplate.java:658) ~[spring-data-redis-1.8.4.RELEASE.jar:na]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:207) ~[spring-data-redis-1.8.4.RELEASE.jar:na]
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:169) ~[spring-data-redis-1.8.4.RELEASE.jar:na]
	at org.springframework.data.redis.core.RedisTemplate.hasKey(RedisTemplate.java:658) ~[spring-data-redis-1.8.4.RELEASE.jar:na]
	at com.yydscm.Utils.RedisUtil.exists(RedisUtil.java:48) ~[classes/:na]
	at com.yydscm.Service.TokenManager.isVaild(TokenManager.java:81) ~[classes/:na]
	at com.yydscm.config.UserSecurityInterceptor.preHandle(UserSecurityInterceptor.java:42) ~[classes/:na]
	at org.springframework.web.servlet.HandlerExecutionChain.applyPreHandle(HandlerExecutionChain.java:133) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:962) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-05 15:52:28.929 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:52:28.933 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consigner value,consigner_phone phone,consigner_addr address from t_billing where consigner is not null and consigner != '' and initial_station_id = ? and consigner like '%' group by consigner,consigner_phone,consigner_addr order by count(uuid) desc]
2017-09-05 15:53:12.972 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:12.972 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:12.977 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:53:12.977 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select u.uuid,u.billing_uuid,DATE_FORMAT(u.record_date,'%Y-%m-%d') record_date,u.record_point_uuid,u.recorder_uuid,p.point_name,t.user_name recorder_name,u.unusual_type,u.unusual_des,u.processor,t1.user_name processor_name,DATE_FORMAT(u.processed_date,'%Y-%m-%d') processed_date,u.processed_results,u.status,if(u.status = 0,'未处理','已处理') statusStr,b.waybill_number,b.consigner,b.consigner_phone,b.consignee,b.consignee_phone,b.goods_name,b.quantity from t_unusual_log u left join t_user t on t.uuid = u.recorder_uuid left join t_user t1 on t1.uuid = u.processor left join t_billing b on b.uuid = u.billing_uuid left join t_logistics_point p on p.uuid=u.record_point_uuid where 1=1  and u.record_point_uuid = ?]
2017-09-05 15:53:22.624 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:22.631 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 15:53:22.641 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:22.643 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:22.647 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select DISTINCT transit_destination value from t_billing where initial_station_id = ? and transit_destination is not null]
2017-09-05 15:53:22.647 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:53:22.657 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:22.661 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-05 15:53:25.076 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:25.078 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:25.076 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:25.080 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 15:53:25.080 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 15:53:25.084 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:53:25.318 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:25.331 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from  t_billing b ,t_billing_fee f where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.uuid = f.billing_uuid and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:53:33.282 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:33.286 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:33.285 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:33.291 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (2) and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:53:33.286 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:53:33.295 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (1) and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:53:33.301 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:33.308 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select company_name,plate_number,driver_name,driver_phone from t_driver where company_uuid = ? order by create_time desc]
2017-09-05 15:53:35.111 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:35.115 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (2,3,4,5) and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:53:35.136 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:35.139 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:35.142 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:53:35.142 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 15:53:36.805 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:36.812 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:53:36.851 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:36.851 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (3) and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:53:37.914 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:37.918 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select t.to_point_uuid,if(t.to_company_name is null,if(l.company_name is null,l.point_name,concat(l.company_name,'(',p.point_name,')')),t.to_company_name) point_name,date_format(t.transfer_date,'%Y-%m-%d %H:%i') transfer_date,t.transfer_fee,t.point_uuid,p.point_name operation_point_name,t.operator_id,u.user_name,t.transfer_type,t.transit_destination,t.billing_uuid,t.remark  from t_transfer t  left join (select ll.uuid,ll.point_name,lo.company_name from t_logistics_point ll  left join t_logistics lo on lo.uuid = ll.logistics_uuid) l on l.uuid = t.to_point_uuid  left join t_logistics_point p on p.uuid = t.point_uuid  left join t_user u on u.uuid = t.operator_id  where 1=1 and (t.to_point_uuid = ? or t.point_uuid = ?) ]
2017-09-05 15:53:40.249 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:40.254 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:53:40.255 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:40.262 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 15:53:40.479 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:40.480 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:53:41.450 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:41.455 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select TP,stylus,A4 from t_user where uuid = ?]
2017-09-05 15:53:46.752 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:46.753 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:46.766 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:46.766 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:46.762 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 15:53:46.770 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-05 15:53:46.779 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select DISTINCT transit_destination value from t_billing where initial_station_id = ? and transit_destination is not null]
2017-09-05 15:53:46.779 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:53:47.590 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:47.596 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:53:47.594 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:47.602 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-05 15:53:47.858 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:47.858 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-05 15:53:48.296 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:48.299 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select t.to_point_uuid,if(t.to_company_name is null,if(l.company_name is null,l.point_name,concat(l.company_name,'(',p.point_name,')')),t.to_company_name) point_name,date_format(t.transfer_date,'%Y-%m-%d %H:%i') transfer_date,t.transfer_fee,t.point_uuid,p.point_name operation_point_name,t.operator_id,u.user_name,t.transfer_type,t.transit_destination,t.billing_uuid,t.remark  from t_transfer t  left join (select ll.uuid,ll.point_name,lo.company_name from t_logistics_point ll  left join t_logistics lo on lo.uuid = ll.logistics_uuid) l on l.uuid = t.to_point_uuid  left join t_logistics_point p on p.uuid = t.point_uuid  left join t_user u on u.uuid = t.operator_id  where 1=1 and (t.to_point_uuid = ? or t.point_uuid = ?) ]
2017-09-05 15:53:49.046 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:49.046 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-05 15:53:49.053 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:49.062 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (3) and b.terminal_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:53:50.128 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:50.131 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-05 15:53:50.136 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:50.136 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:50.143 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.input_article_number,l.company_name,l.point_name startStation,l.point_phone startPoint_phone,l.logistics_notice,l.point_addr startPoint_addr,o.user_name operation_user_name,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.terminal_station_id,p.point_name endStation,p.point_phone point_owner_phone_o,p.point_addr,concat(l.point_name,'--',p.point_name) line,b.owner,lp.point_name owner_name,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.number_of_copies,b.drawer_uuid,u.user_name,b.invoice_status,b.article_number,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,b.transit_destination,b.loading_batches_id,lb.batch_number,DATE_FORMAT(lb.loading_time,'%Y-%m-%d %H:%i') loading_time,lb.plate_number,lb.driver_name,lb.driver_phone,lb.pay_the_freight,b.source,b.is_unusual,b.remarks,f.billing_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction from t_billing b left join t_billing_fee f on f.billing_uuid=b.uuid left join (select l1.uuid,l1.point_name,l1.logistics_uuid,l1.point_addr,l1.point_owner_phone_o,l1.point_phone,c.company_name,ln.logistics_notice from t_logistics_point l1 left join (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln on ln.logistics_uuid=l1.logistics_uuid left join t_logistics c on c.uuid=l1.logistics_uuid) l on l.uuid=b.initial_station_id left join t_logistics_point p on p.uuid=b.terminal_station_id left join t_logistics_point lp on lp.uuid=b.owner left join t_loading_batches lb on lb.uuid = b.loading_batches_id left join t_user u on u.uuid=b.drawer_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid where 1=1 and b.invoice_status != 9 and b.invoice_status in (2,3,4,5) and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? and b.initial_station_id = ?  order by b.invoice_date desc]
2017-09-05 15:53:50.144 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-05 15:53:51.339 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:51.343 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-05 15:53:51.344 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:51.344 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-05 15:53:51.359 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-05 15:53:51.363 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-06 14:13:03.355 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:03.355 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:03.355 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:03.356 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-06 14:13:03.356 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-06 14:13:03.359 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]
2017-09-06 14:13:03.377 ERROR 13820 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,b.input_article_number,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where b.owner in   (select uuid from	    t_logistics_point   where logistics_uuid = 	    (select       logistics_uuid 	    from      t_logistics_point     where uuid = ?)     and point_status = 1) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]; The last packet successfully received from the server was 80,351,988 milliseconds ago.  The last packet sent successfully to the server was 80,352,002 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 80,351,988 milliseconds ago.  The last packet sent successfully to the server was 80,352,002 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllPointBillList(BillManagerDao.java:143) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllPointBillList(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectBillList(BillManagerService.java:59) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectBillList(BillManagerController.java:55) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-06 14:13:03.377 ERROR 13820 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]; The last packet successfully received from the server was 80,351,969 milliseconds ago.  The last packet sent successfully to the server was 80,351,981 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 80,351,969 milliseconds ago.  The last packet sent successfully to the server was 80,351,981 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllTerminalStation(BillManagerDao.java:312) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllTerminalStation(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectTerminalStation(BillManagerService.java:248) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectTerminalStation(BillManagerController.java:271) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-06 14:13:03.377 ERROR 13820 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select uuid,point_name from t_logistics_point where logistics_uuid =(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1]; The last packet successfully received from the server was 80,351,989 milliseconds ago.  The last packet sent successfully to the server was 80,352,003 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 80,351,989 milliseconds ago.  The last packet sent successfully to the server was 80,352,003 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao.selectAllInitialStation(BillManagerDao.java:237) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillManagerDao$$FastClassBySpringCGLIB$$c5daaba3.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillManagerDao$$EnhancerBySpringCGLIB$$345f205c.selectAllInitialStation(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillManagerService.selectInitialStation(BillManagerService.java:128) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillManagerController.selectInitialStation(BillManagerController.java:116) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-06 14:13:13.856 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:13.860 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:13.863 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-06 14:13:13.869 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-06 14:13:13.870 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:13.870 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-06 14:13:28.029 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:28.029 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:28.029 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select u.uuid,u.billing_uuid,DATE_FORMAT(u.record_date,'%Y-%m-%d') record_date,u.record_point_uuid,u.recorder_uuid,p.point_name,t.user_name recorder_name,u.unusual_type,u.unusual_des,u.processor,t1.user_name processor_name,DATE_FORMAT(u.processed_date,'%Y-%m-%d') processed_date,u.processed_results,u.status,if(u.status = 0,'未处理','已处理') statusStr,b.waybill_number,b.consigner,b.consigner_phone,b.consignee,b.consignee_phone,b.goods_name,b.quantity from t_unusual_log u left join t_user t on t.uuid = u.recorder_uuid left join t_user t1 on t1.uuid = u.processor left join t_billing b on b.uuid = u.billing_uuid left join t_logistics_point p on p.uuid=u.record_point_uuid where 1=1  and u.record_point_uuid = ?]
2017-09-06 14:13:28.044 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-06 14:13:32.886 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:32.887 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:32.890 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name from t_logistics_point where logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1)]
2017-09-06 14:13:32.894 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-06 14:13:33.074 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:33.074 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-06 14:13:36.266 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:36.272 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ?  order by b.invoice_date desc]
2017-09-06 14:13:36.367 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:36.367 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') >= ? and DATE_FORMAT(b.invoice_date,'%Y-%m-%d') <= ? ) n ]
2017-09-06 14:13:42.533 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:42.539 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select b.uuid,b.waybill_number,b.initial_station_id,b.terminal_station_id,b.owner,DATE_FORMAT(b.invoice_date,'%Y-%m-%d %H:%i') invoice_date,b.consigner_uuid,b.consigner,b.consigner_phone,b.consigner_addr,b.consignee,b.consignee_phone,b.consignee_addr,b.goods_name,b.quantity,b.packaging,b.weight,b.volume,b.delivery_method,if(b.update_time is null,null,DATE_FORMAT(b.update_time,'%Y-%m-%d %H:%i')) update_time,b.operation_user_uuid,s.receipts_delivery_fee,s.receipts_total_freight,s.receipts_collection_fee,b.number_of_copies,b.drawer_uuid,b.invoice_status,b.article_number,b.transit_destination,b.loading_batches_id,b.source,b.is_unusual,b.input_article_number,b.remarks,date_format(b.invoice_date,'%Y-%m-%d %H:%i') invoicedate, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction ,p.point_name startStation,p.point_phone startPoint_phone,p.point_addr startPoint_addr,t.point_phone point_owner_phone_o,t.point_name endStation,t.point_addr,u.user_name,c.batch_number,l.company_name,ln.logistics_notice,o.user_name operation_user_name from t_billing b left join t_billing_fee f on b.uuid = f.billing_uuid left join t_logistics_point p on p.uuid = b.initial_station_id left join t_logistics_point t on t.uuid = b.terminal_station_id left join t_user u on b.drawer_uuid = u.uuid left join t_loading_batches c on c.uuid = b.loading_batches_id LEFT JOIN t_logistics l ON l.uuid = p.logistics_uuid  left join t_user o on o.uuid=b.operation_user_uuid  left join t_billing_sign s on s.billing_uuid=b.uuid LEFT JOIN (select group_concat(concat(logistics_sort,'、',logistics_notice)) logistics_notice,logistics_uuid from t_logistics_notice group by logistics_uuid) ln ON ln.logistics_uuid = l.uuid where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.invoice_status != 9  order by b.invoice_date desc]
2017-09-06 14:13:42.887 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:13:42.887 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select count(1) totalBill,sum(n.quantity) quantity,round(sum(n.weight),2) weight,round(sum(n.volume),2) volume,round(sum(n.cash_payment),2) cash_payment,round(sum(n.collect_payment),2) collect_payment,sum(n.default_of_payment) default_of_payment,round(sum(n.back_payment),2) back_payment, round(sum(n.monthly_payment),2) monthly_payment,sum(n.payment_deduction) payment_deduction,sum(n.declared_value) declared_value,round(sum(n.valuation_fee),2) valuation_fee,round(sum(n.delivery_fee),2) delivery_fee,round(sum(n.advance),2) advance,round(sum(n.receiving_fee),2) receiving_fee,round(sum(n.handling_fee),2) handling_fee,round(sum(n.packing_fee),2) packing_fee,round(sum(n.upstair_fee),2) upstair_fee,round(sum(n.forklift_fee),2) forklift_fee,round(sum(n.return_fee),2) return_fee,round(sum(n.under_charge_fee),2) under_charge_fee,round(sum(n.warehousing_fee),2) warehousing_fee,round(sum(n.collection_fee),2) collection_fee,round(sum(n.freight),2) freight,round(sum(n.total_freight),2) total_freight from (select b.*, f.uuid billing_fee_uuid,f.declared_value,f.valuation_fee,f.delivery_fee,f.advance,f.receiving_fee,f.handling_fee,f.packing_fee,f.upstair_fee,f.forklift_fee,f.return_fee,f.under_charge_fee,f.warehousing_fee,f.collection_fee,f.freight,f.total_freight,f.total_freight_receipts,f.payment_method,f.cash_payment,f.collect_payment,f.default_of_payment,f.back_payment,f.monthly_payment,f.payment_deduction  from t_billing b ,t_billing_fee f where (b.owner in   (select uuid from t_logistics_point where logistics_uuid = 	    (select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1) or b.terminal_station_id in 	 (select uuid from t_logistics_point where logistics_uuid = 		(select logistics_uuid from t_logistics_point where uuid = ?) and point_status = 1)) and b.uuid = f.billing_uuid and invoice_status != 9 ) n ]
2017-09-06 14:14:06.972 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:06.978 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select t.to_point_uuid,if(t.to_company_name is null,if(l.company_name is null,l.point_name,concat(l.company_name,'(',p.point_name,')')),t.to_company_name) point_name,date_format(t.transfer_date,'%Y-%m-%d %H:%i') transfer_date,t.transfer_fee,t.point_uuid,p.point_name operation_point_name,t.operator_id,u.user_name,t.transfer_type,t.transit_destination,t.billing_uuid,t.remark  from t_transfer t  left join (select ll.uuid,ll.point_name,lo.company_name from t_logistics_point ll  left join t_logistics lo on lo.uuid = ll.logistics_uuid) l on l.uuid = t.to_point_uuid  left join t_logistics_point p on p.uuid = t.point_uuid  left join t_user u on u.uuid = t.operator_id  where 1=1 and (t.to_point_uuid = ? or t.point_uuid = ?) ]
2017-09-06 14:14:13.988 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:13.992 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:13.994 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select packing_name from t_public_packing where packing_status = 1]
2017-09-06 14:14:14.001 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT Insured_rate FROM t_system_parameter WHERE logistics_uuid=?]
2017-09-06 14:14:14.007 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:14.008 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select uuid,point_name,logistics_uuid from t_logistics_point where uuid != ? and (logistics_uuid = ? or uuid in (select partner_point_id from t_partner where company_uuid = ? and partner_status = 1))]
2017-09-06 14:14:14.009 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:14.009 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select DISTINCT transit_destination value from t_billing where initial_station_id = ? and transit_destination is not null]
2017-09-06 14:14:14.022 ERROR 13820 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select DISTINCT transit_destination value from t_billing where initial_station_id = ? and transit_destination is not null]; The last packet successfully received from the server was 80,427,208 milliseconds ago.  The last packet sent successfully to the server was 80,427,222 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 80,427,208 milliseconds ago.  The last packet sent successfully to the server was 80,427,222 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillingDao.searchDestination(BillingDao.java:297) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillingDao$$FastClassBySpringCGLIB$$6ca17e2e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillingDao$$EnhancerBySpringCGLIB$$cffa06dd.searchDestination(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillingService.searchDestination(BillingService.java:262) ~[classes/:na]
	at com.yydscm.Service.Billing.BillingService$$FastClassBySpringCGLIB$$80aee4ce.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Service.Billing.BillingService$$EnhancerBySpringCGLIB$$cc38a7a6.searchDestination(<generated>) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillingController.searchDestination(BillingController.java:94) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-06 14:14:18.149 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:18.154 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consigner value,consigner_phone phone,consigner_addr address from t_billing where consigner is not null and consigner != '' and initial_station_id = ? and consigner like '%' group by consigner,consigner_phone,consigner_addr order by count(uuid) desc]
2017-09-06 14:14:22.785 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:22.789 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consigner value,consigner_phone phone,consigner_addr address from t_billing where consigner is not null and consigner != '' and initial_station_id = ? and consigner like '%' group by consigner,consigner_phone,consigner_addr order by count(uuid) desc]
2017-09-06 14:14:23.733 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:23.737 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:25.449 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:25.452 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:26.558 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:26.561 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:27.651 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:27.655 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:27.920 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:27.923 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:27.930 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:27.934 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:28.049 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:28.049 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:28.142 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:28.146 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:28.197 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:28.197 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:28.304 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:28.307 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:28.395 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:28.395 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:29.381 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:29.384 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:29.888 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:29.888 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:29.909 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:29.912 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:29.945 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:29.946 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:29.979 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:29.983 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.015 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.015 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.046 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.046 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.082 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.082 DEBUG 13820 --- [http-nio-8081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.253 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.257 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.295 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.295 DEBUG 13820 --- [http-nio-8081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.308 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.309 DEBUG 13820 --- [http-nio-8081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.427 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.427 DEBUG 13820 --- [http-nio-8081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.534 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.539 DEBUG 13820 --- [http-nio-8081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.562 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.562 DEBUG 13820 --- [http-nio-8081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.675 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.676 DEBUG 13820 --- [http-nio-8081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.739 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.739 DEBUG 13820 --- [http-nio-8081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:14:30.756 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:14:30.759 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 14:15:57.317 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 14:15:57.318 DEBUG 13820 --- [http-nio-8081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 17:44:01.365 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2017-09-06 17:44:01.369 DEBUG 13820 --- [http-nio-8081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]
2017-09-06 17:44:01.390 ERROR 13820 --- [http-nio-8081-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.RecoverableDataAccessException: PreparedStatementCallback; SQL [select consignee value,consignee_phone phone,consignee_addr address from t_billing where consignee is not null and consignee != '' and initial_station_id = ? and consigner like '第三方%'and consignee like '%' group by consignee,consignee_phone,consignee_addr order by count(uuid) desc]; Communications link failure

The last packet successfully received from the server was 12,484,027 milliseconds ago.  The last packet sent successfully to the server was 12,484,039 milliseconds ago.; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet successfully received from the server was 12,484,027 milliseconds ago.  The last packet sent successfully to the server was 12,484,039 milliseconds ago.] with root cause

java.net.SocketException: Connection reset by peer: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111) ~[na:1.8.0_144]
	at java.net.SocketOutputStream.write(SocketOutputStream.java:155) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[na:1.8.0_144]
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[na:1.8.0_144]
	at com.mysql.jdbc.MysqlIO.send(MysqlIO.java:3728) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2509) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2490) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1966) ~[mysql-connector-java-5.1.42.jar:5.1.42]
	at sun.reflect.GeneratedMethodAccessor70.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.15.jar:na]
	at com.sun.proxy.$Proxy86.executeQuery(Unknown Source) ~[na:na]
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:692) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:633) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:684) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:711) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:761) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:192) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:264) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForList(NamedParameterJdbcTemplate.java:271) ~[spring-jdbc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillingDao.searchConsignee(BillingDao.java:332) ~[classes/:na]
	at com.yydscm.Dao.Billing.BillingDao$$FastClassBySpringCGLIB$$6ca17e2e.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Dao.Billing.BillingDao$$EnhancerBySpringCGLIB$$cffa06dd.searchConsignee(<generated>) ~[classes/:na]
	at com.yydscm.Service.Billing.BillingService.searchBillingPrompt(BillingService.java:287) ~[classes/:na]
	at com.yydscm.Service.Billing.BillingService$$FastClassBySpringCGLIB$$80aee4ce.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669) ~[spring-aop-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at com.yydscm.Service.Billing.BillingService$$EnhancerBySpringCGLIB$$cc38a7a6.searchBillingPrompt(<generated>) ~[classes/:na]
	at com.yydscm.Controller.Billing.BillingController.searchName(BillingController.java:114) ~[classes/:na]
	at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]

2017-09-07 09:13:45.892  INFO 988 --- [restartedMain] com.yydscm.LogisticsTmsApplication       : Starting LogisticsTmsApplication on DESKTOP-LDP6EUN with PID 988 (C:\Others\project\logistics\logistics-tms\target\classes started by hecha in C:\Others\project\logistics)
2017-09-07 09:13:45.892  INFO 988 --- [restartedMain] com.yydscm.LogisticsTmsApplication       : The following profiles are active: dev
2017-09-07 09:13:45.931  INFO 988 --- [restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6596bbca: startup date [Thu Sep 07 09:13:45 CST 2017]; root of context hierarchy
2017-09-07 09:13:47.402  INFO 988 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-09-07 09:13:48.164  INFO 988 --- [restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8081 (http)
2017-09-07 09:13:48.174  INFO 988 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2017-09-07 09:13:48.174  INFO 988 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.15
2017-09-07 09:13:48.275  INFO 988 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2017-09-07 09:13:48.279  INFO 988 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2351 ms
2017-09-07 09:13:48.420  INFO 988 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2017-09-07 09:13:48.423  INFO 988 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2017-09-07 09:13:48.424  INFO 988 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2017-09-07 09:13:48.427  INFO 988 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2017-09-07 09:13:48.427  INFO 988 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2017-09-07 09:13:48.428  INFO 988 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]
2017-09-07 09:13:49.111  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@6596bbca: startup date [Thu Sep 07 09:13:45 CST 2017]; root of context hierarchy
2017-09-07 09:13:49.156  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alias/selectAliasList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.alias.AliasController.selectDeclaractionList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.157  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alias/deleteAlias],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.alias.AliasController.deleteAlias(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.157  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/alias/addOrUpdateAlias],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.alias.AliasController.addOrUpdateAlias(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.158  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/arrival/updateBillingForArrival]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.arrival.ArrivalController.updateBillingOFInvoiceStatus(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.162  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/arrival/selectArrivalList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.arrival.ArrivalController.selectArrivalList(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.165  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/selectBillingByUuid],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.selectBillingByUuid(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.166  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchTerminalStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.searchTerminalStation(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.166  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchDestination],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.searchDestination(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.170  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/selectBilling],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.selectBilling(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.171  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/saveBilling],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.saveBilling(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.171  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchName],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.searchName(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.171  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/searchRemarks],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.Billing.BillingController.searchRemarks(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.171  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/SaveInsuredRate],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.Billing.BillingController.SaveInsuredRate(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.171  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billing/InsuredRate/{logistics_uuid}],methods=[GET]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillingController.InsuredRate(java.lang.Long)
2017-09-07 09:13:49.175  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectInitialStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectInitialStation(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.176  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectTerminalStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectTerminalStation(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.180  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/exportSuperBillExcel],methods=[GET]}" onto public void com.yydscm.Controller.Billing.BillManagerController.exportSuperBillExcel(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletResponse,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.180  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectBillSuperList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectBillSuperList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.180  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectAllTerminalStation],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectAllTerminalStation(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.180  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectBillList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectBillList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.181  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectCost],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectCost(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.181  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectSuperCost],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectSuperCost(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.181  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/billCancel],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.billCancel(java.lang.Long)
2017-09-07 09:13:49.182  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/selectCostForDay],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.Billing.BillManagerController.selectCostForDay(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.182  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/billManager/exportBillExcel],methods=[GET]}" onto public void com.yydscm.Controller.Billing.BillManagerController.exportBillExcel(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletResponse,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.182  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/common/getEnum],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.CommonController.getEnum(java.lang.String)
2017-09-07 09:13:49.183  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/declaraction/deleteDeclaraction],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.declaraction.DeclaractionController.deleteDeclaraction(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.183  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/declaraction/selectDeclaractionList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.declaraction.DeclaractionController.selectDeclaractionList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.183  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/declaraction/addDeclaraction],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.declaraction.DeclaractionController.addDeclaraction(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.184  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/driverManager/selectDriverList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.driverManager.DriverManagerController.selectDriverList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.185  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/driverManager/addOrUpdateDriver],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.driverManager.DriverManagerController.addDriver(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.185  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/driverManager/deleteDriver],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.driverManager.DriverManagerController.deleteDriver(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.186  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goodsManager/deleteGoods],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.goodsManager.GoodsManagerController.deleteGoods(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.186  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goodsManager/selectGoodsList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.goodsManager.GoodsManagerController.selectGoodsList(org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.186  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/goodsManager/addGoods],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.goodsManager.GoodsManagerController.addGoods(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.187  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/GoodsReceipt],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.IndexController.GoodsReceipt(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.188  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/selectBillingForLoadingByAll],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.selectBillingForLoadingByAll(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.188  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/removeLoadingBatch],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.removeLoadingBatch(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.188  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/selectBillingForLoading],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.selectBillingForLoading(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.188  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/loading/saveLoadingBatch],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.loading.LoadingController.saveLoadingBatch(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.189  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testuser],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.TestUser(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.190  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/setSession],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.SetSession(javax.servlet.http.HttpSession)
2017-09-07 09:13:49.190  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/menu],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.Menu(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.190  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/getSession],methods=[GET]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.GetSession(javax.servlet.http.HttpSession)
2017-09-07 09:13:49.190  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/Applogin],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.AppLogin(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.191  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/login],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.Login(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.191  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/randCode],methods=[GET]}" onto public void com.yydscm.Controller.LoginController.vailcode(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException
2017-09-07 09:13:49.191  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/logout],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.LoginController.Logout(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.196  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pack/selectPackAll],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.packing.PackController.selectPackAll()
2017-09-07 09:13:49.197  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/selectPartnersList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.selectPartnersList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.197  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/updatePartnersStatus],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.updatePartnersStatus(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.197  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/selectCompanyList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.selectCompanyList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.197  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/selectPointList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.selectPointList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.198  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/partners/addPartners],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.partners.PartnersController.addPartners(java.lang.String,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.199  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/selectPointAndPointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.selectPointAndPointUser(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.199  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/addOrUpdatePointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.addOrUpdatePointUser(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.199  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/selectPointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.selectPointUser(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.199  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/selectPoint],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.selectPoint(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.200  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/addOrUpdatePoint],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.addOrUpdatePoint(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.200  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/pointManager/deletePointUser],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.pointManager.PointManagerController.deletePointUser(java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.200  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/printer/selectPrinter],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.printer.PrinterController.selectPrinter(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.201  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/printer/savePrinter],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.printer.PrinterController.savePrinter(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.201  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/report/selectReportListByDay],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.report.ReportController.selectReportListByDay(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.202  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/report/selectReportList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.report.ReportController.selectReportList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.205  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/sign/updateBillingForSign]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.sign.SignController.updateBillingOFInvoiceStatus(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.205  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/sign/billingsSumByUuid],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.sign.SignController.billingsSumByUuid(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.205  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/sign/selectSignList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.sign.SignController.selectSignList(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.206  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/transfer/getPointForNotOwn],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.transfer.TransferController.getPointForNotOwn(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.206  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/transfer/selectTransfer],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.transfer.TransferController.selectTransfer(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.206  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/transfer/saveTransfer],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.transfer.TransferController.saveTransfer(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.207  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/unusual/saveUnusual],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.unusual.UnusualController.saveUnusual(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.207  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/unusual/selectUnusual],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.unusual.UnusualController.selectUnusual(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.207  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/member/selectMemberList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.User.MemberController.selectMemberList(java.util.Map<java.lang.String, java.lang.Object>,javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.207  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/User/UpdateUser],methods=[POST]}" onto public com.yydscm.view.Result com.yydscm.Controller.User.UserController.UpdateUser(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.Object>)
2017-09-07 09:13:49.208  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/credit/selectCreditUserList],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.WxInterface.WxController.selectCreditUserList(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.208  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/credit/reviewInfo],methods=[POST]}" onto public com.yydscm.view.Result<?> com.yydscm.Controller.WxInterface.WxController.reviewInfo(java.util.Map<java.lang.String, java.lang.Object>,org.apache.catalina.servlet4preview.http.HttpServletRequest)
2017-09-07 09:13:49.209  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-09-07 09:13:49.210  INFO 988 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-09-07 09:13:49.229  INFO 988 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-09-07 09:13:49.229  INFO 988 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-09-07 09:13:49.258  INFO 988 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-09-07 09:13:49.586  INFO 988 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2017-09-07 09:13:49.624  INFO 988 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2017-09-07 09:13:49.663  INFO 988 --- [restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8081 (http)
2017-09-07 09:13:49.669  INFO 988 --- [restartedMain] com.yydscm.LogisticsTmsApplication       : Started LogisticsTmsApplication in 4.03 seconds (JVM running for 6.749)
